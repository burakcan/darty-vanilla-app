{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/darty/core/src/index.server.tsx","webpack:///./node_modules/darty/core/src/startupExecutor.ts","webpack:///./node_modules/node-fetch/lib/index.js","webpack:///./src/startup.ts","webpack:///external \"http\"","webpack:///external \"https\"","webpack:///external \"stream\"","webpack:///external \"url\"","webpack:///external \"zlib\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","undefined","global","fetch","startupObj","__importDefault","default","platform","startup_1","startupArgs","constructor","Function","_interopDefault","ex","convert","Stream","http","Url","https","zlib","Readable","BUFFER","TYPE","Blob","this","blobParts","arguments","options","buffers","a","length","Number","element","buffer","Buffer","ArrayBuffer","isView","from","byteOffset","byteLength","String","push","concat","type","toLowerCase","test","text","Promise","resolve","toString","arrayBuffer","buf","ab","slice","stream","readable","_read","relativeStart","relativeEnd","size","start","end","Math","max","min","span","slicedBuffer","blob","FetchError","message","systemError","Error","code","errno","captureStackTrace","defineProperties","writable","configurable","e","INTERNALS","PassThrough","Body","body","_this","_ref","_ref$size","_ref$timeout","timeout","isURLSearchParams","isBlob","isBuffer","disturbed","error","on","err","url","consumeBody","_this4","reject","TypeError","alloc","accum","accumBytes","abort","resTimeout","setTimeout","chunk","clearTimeout","obj","append","delete","getAll","has","set","sort","clone","instance","p1","p2","bodyUsed","getBoundary","pipe","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","then","ct","headers","assign","_a","json","_this2","JSON","parse","textConverted","_this3","res","str","charset","exec","pop","convertBody","mixIn","proto","_b","__values","getOwnPropertyNames","_c","next","done","desc","getOwnPropertyDescriptor","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","find","map","MAP","Headers","init","rawHeaders","raw","headerNames","keys","headerNames_1","headerNames_1_1","headerName","_f","e_3","_g","method","iterator","pairs","init_1","init_1_1","pair","Array","pairs_1","pairs_1_1","_h","_j","join","forEach","callback","thisArg","getHeaders","_pairs$i","createHeadersIterator","values","kind","k","entries","INTERNAL","target","HeadersIteratorPrototype","index","setPrototypeOf","getPrototypeOf","_INTERNAL","exportNodeCompatibleHeaders","__proto__","hostHeaderKey","INTERNALS$1","STATUS_CODES","Response","opts","status","contentType","statusText","counter","ok","redirected","INTERNALS$2","parse_url","format_url","format","streamDestructionSupported","isRequest","input","Request","parsedURL","href","toUpperCase","inputBody","signal","isAbortSignal","redirect","follow","compress","agent","AbortError","PassThrough$1","resolve_url","request","protocol","hostname","contentLengthValue","totalBytes","getNodeRequestOptions","send","response","destroy","emit","aborted","reqTimeout","dest","abortAndFinalize","finalize","req","addEventListener","once","socket","_d","isArray","_e","e_8","val","createHeadersLenient","isRedirect","statusCode","location","locationURL","requestOpts","removeEventListener","response_options","statusMessage","codings","zlibOptions","flush","Z_SYNC_FLUSH","finishFlush","createGunzip","createBrotliDecompress","createInflate","createInflateRaw","write","document","innerHTML","require"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/* eslint-env node */\n\n// polyfills\nif (global.fetch === undefined) {\n    global.fetch = require('node-fetch');\n}\n\n// startup\nconst startupArgs = {\n    platform: 'server',\n};\n\nimport startupExecutor from './startupExecutor';\n\nconst startupObj = startupExecutor(startupArgs);\n\nexport {\n    startupObj as default,\n};\n","import startup from '~/startup';\n\nfunction startupExecutor(startupArgs: { [key: string]: any }): any {\n    // startup object\n    let startupObj;\n\n    if (startup.constructor === Function) {\n        startupObj = new startup(startupArgs);\n    }\n    else {\n        startupObj = startup;\n    }\n\n    return startupObj;\n}\n\nexport {\n    startupExecutor as default,\n};\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Stream = _interopDefault(require('stream'));\nvar http = _interopDefault(require('http'));\nvar Url = _interopDefault(require('url'));\nvar https = _interopDefault(require('https'));\nvar zlib = _interopDefault(require('zlib'));\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parse_url(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parse_url(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parse_url(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\nconst resolve_url = Url.resolve;\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tconst locationURL = location === null ? null : resolve_url(request.url, location);\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nmodule.exports = exports = fetch;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports;\nexports.Headers = Headers;\nexports.Request = Request;\nexports.Response = Response;\nexports.FetchError = FetchError;\n","document.body.innerHTML = \"Welcome to darty-vanilla-app\";\n","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"stream\");","module.exports = require(\"url\");","module.exports = require(\"zlib\");"],"sourceRoot":""}